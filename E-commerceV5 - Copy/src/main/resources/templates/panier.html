<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">

<head>

<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">

<title>Rim</title>

<!-- Bootstrap core CSS
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
 -->
<link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="../css/shop-homepage.css" rel="stylesheet">

</head>

<body>

	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
		<div class="container">
			<a class="navbar-brand" href="#">Start Bootstrap</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active"><a class="nav-link" href="#">Home
							<span class="sr-only">(current)</span>
					</a></li>
					<li class="nav-item"><a class="nav-link" th:href="@{/login}">login</a>
					</li>

					<li sec:authorize="isAuthenticated()"><a
						th:href="@{/login?logout}">logout</a></li>

					<div sec:authorize="hasRole('ADMIN_PROD')">

						<li class="nav-item"><a class="nav-link"
							th:href="@{/adminProd/index}">Panel admin Prod </a></li>

					</div>

					<div sec:authorize="hasRole('ADMIN_CAT')">
						<li class="nav-item"><a class="nav-link"
							th:href="@{/adminCat/index}">Panel admin Cat </a></li>

					</div>
					<li class="nav-item"><a class="nav-link" href="#"
						th:text="${#httpServletRequest.remoteUser}"></a></li>

					<div sec:authorize="hasRole('ROLE_USER')">

						<ul class="dropdown">
							<button class="btn btn-primary dropdown-toggle" type="button"
								data-toggle="dropdown">
								Dropdown Example <span class="caret"></span>
							</button>
							<ul class="dropdown-menu">
								<li><a href="#"> <span
										class="glyphicon glyphicon-shopping-cart"></span> <span
										class="badge"></span><a class="nav-link"
										th:href="@{/user/panier}">-&#8377;0.0 </a>
								</a></li>
								<li><a th:href="@{/login?logout}">logout</a></li>

								<li><a href="#"><span th:text="${userModel.fullname}"></span></a></li>
								<li><a href="#"><span th:text="${userModel.role}"></span></a></li>
								<li><a href="#"><span
										th:text="${userModel.panier.total}"></span></a></li>

							</ul>
						</ul>


					</div>

				</ul>
			</div>
		</div>
	</nav>



<div class="container">


<!-- 
<div th:text="${ligneCommandePanier}">
</div> -->
<div th:if="${ligneCommande==1}">

	<table id="cart" class="table table-hover table-condensed" >
    				<thead>
						<tr>
							<th style="width:50%">Product</th>
							<th style="width:10%">Price</th>
							<th style="width:8%">Quantity</th>
							<th style="width:22%" class="text-center">Subtotal</th>
							<th style="width:10%"></th>
						</tr>
					</thead>
					<tbody>
					
						<tr th:each="LCP:${ligneCommandePanier}">
					<form  method="post" th:action="@{ActuLigneCMD}">
							<td data-th="Product">
								<div class="row">
									<div class="col-sm-2 hidden-xs"><img src="http://placehold.it/100x100" alt="..." class="img-responsive"/></div>
									<div class="col-sm-10">
										<h4 class="nomargin" th:text="${LCP.produit.designation}"></h4>
										<p th:text="${LCP.produit.description}"></p>
									</div>
								</div>
							</td>
							<td data-th="Price" th:text="${LCP.prix} + MRU"></td>
							<td data-th="Quantity">
								<input type="number" name="quantiter" class="form-control text-center" min="1" max="10" th:value="${LCP.quantite}">
							</td>
							
							<td data-th="Subtotal" class="text-center" th:text="${LCP.total}+MRU"> </td>
							<td class="actions" data-th="">
								<button  name="Acutualiser" th:value="${LCP.id}"  class="btn btn-info btn-sm"><i class="glyphicon-refresh"></span></button>
								<a th:href="@{deleteCMD(id=${LCP.id})}" class="btn btn-danger btn-sm"><i class="glyphicon-trash"></span></a>								
							</td>
						</form>
						</tr>

						
					</tbody>
					<tfoot>
						<tr class="visible-xs">
							<td class="text-center"><strong th:text="${totalPanier}"></strong></td>
						</tr>
						<tr>
							<td><a th:href="@{/user/index}" class="btn btn-warning"><i class="glyphicon-chevron-left"></span> Continue Shopping</a></td>
							<td colspan="2" class="hidden-xs"></td>
							<td class="hidden-xs text-center"><strong th:text="${totalPanier}"></strong></td>
							<td><a href="#" class="btn btn-success btn-block">Checkout <i class="glyphicon-chevron-right"></span></a></td>
						</tr>
					</tfoot>
				</table>


</div>

<div th:if="${ligneCommande==0}">
<h1>Il y'a pas de commande</h1>


</div>


				
				
				
</div>






	<!-- Footer -->
	<footer class="py-5 bg-dark">
		<div class="container">
			<p class="m-0 text-center text-white">Copyright &copy; Your
				Website 2017</p>
		</div>
		<!-- /.container -->
	</footer>

	<!-- Bootstrap core JavaScript -->
	<script src="../vendor/jquery/jquery.min.js"></script>
	<script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>
